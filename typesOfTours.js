// –ë–î –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
const tourData = {
    "üéÑ –ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ —Ç—É—Ä—ã": {
        images: [
            "https://i.pinimg.com/736x/3c/00/57/3c0057686798689d8ca4ddcb787a1df8.jpg",
            "https://avatars.mds.yandex.net/i?id=4f2decfb0782017c77ec20945612821e_l-7863844-images-thumbs&n=13",
            "https://cdn.myslo.ru/Content/NewsImage/11/d4/11d4631e-8732-4525-9b45-759ce3e263db_3.jpg",
            "https://avatars.mds.yandex.net/i?id=81c277076c4895a9fdb04d315726939c_l-9271747-images-thumbs&n=13"
        ],
        description: "–í—Å—Ç—Ä–µ—Ç—å—Ç–µ –ù–æ–≤—ã–π –≥–æ–¥ –≤ —Å–∫–∞–∑–æ—á–Ω–æ–π –æ–±—Å—Ç–∞–Ω–æ–≤–∫–µ! –ù–µ–∑–∞–±—ã–≤–∞–µ–º–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞ –∏ –≤–æ–ª—à–µ–±—Å—Ç–≤–∞.",
        link: "categtour.html"
    },
    "üíç –°–≤–∞–¥–µ–±–Ω—ã–µ —Ç—É—Ä—ã": {
        images: [
            "https://avatars.mds.yandex.net/i?id=0be22ffdce409b12ea14689f5f0360fc_l-9211785-images-thumbs&n=13",
            "https://avatars.mds.yandex.net/i?id=f34d8115dcb61bb232777446bfbae1c4_l-4819109-images-thumbs&n=13",
            "https://avatars.mds.yandex.net/i?id=d3e9be85d4e59cca013fec76cc5d05f8_l-5235791-images-thumbs&n=13",
            "https://avatars.mds.yandex.net/i?id=ed94ebed222fc09208e54d96af905226_l-8376360-images-thumbs&n=13"
        ],
        description: "–ò–¥–µ–∞–ª—å–Ω—ã–π –º–µ–¥–æ–≤—ã–π –º–µ—Å—è—Ü –≤ —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö —É–≥–æ–ª–∫–∞—Ö –º–∏—Ä–∞. –°–æ–∑–¥–∞–π—Ç–µ memories –Ω–∞ –≤—Å—é –∂–∏–∑–Ω—å.",
        link: "categtour.html"
    },
    "üëë VIP-—Ç—É—Ä—ã –∏ —É—Å–ª—É–≥–∏": {
        images: [
            "https://avatars.mds.yandex.net/i?id=36c7cb75e815d771f4ee2dbc8182c7b5_l-16349001-images-thumbs&n=13",
            "https://i.pinimg.com/originals/3e/f0/fd/3ef0fd174dc4c65e41759d90d820f3e2.jpg",
            "https://avatars.mds.yandex.net/i?id=de4145c565f5dbe1d94a1a9794808672_l-8439163-images-thumbs&n=13",
            "https://avatars.mds.yandex.net/i?id=ebb088cd93e1319f0e527b6c42280150_l-11723847-images-thumbs&n=13"
        ],
        description: "–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π –æ—Ç–¥—ã—Ö –ø–æ –≤—ã—Å—à–µ–º—É —Ä–∞–∑—Ä—è–¥—É. –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∏ –ø—Ä–µ–º–∏—É–º-—Å–µ—Ä–≤–∏—Å.",
        link: "categtour.html"
    },
    "üå¥ –û—Ç–¥—ã—Ö –Ω–∞ –æ—Å—Ç—Ä–æ–≤–∞—Ö": {
        images: [
            "https://i.pinimg.com/736x/bb/18/f2/bb18f23af7c1cc8a73c3a51da89c0e99.jpg",
            "https://i.pinimg.com/736x/12/c0/4e/12c04ebef9139052794e664ffa915af4.jpg",
            "https://www.flagman.travel/upload/medialibrary/fc7/cg4yk9ajw5cxze656wstdw4v9pvq8mdp.jpg",
            "https://avatars.mds.yandex.net/i?id=4c81c279a71b06ab54a263af23e7222af822c109-16489467-images-thumbs&n=13"
        ],
        description: "–†–∞–π—Å–∫–∏–µ –æ—Å—Ç—Ä–æ–≤–∞ —Å –∫—Ä–∏—Å—Ç–∞–ª—å–Ω–æ —á–∏—Å—Ç–æ–π –≤–æ–¥–æ–π –∏ –±–µ–ª–æ—Å–Ω–µ–∂–Ω—ã–º–∏ –ø–ª—è–∂–∞–º–∏. –ò–¥–µ–∞–ª—å–Ω—ã–π escape –æ—Ç –≥–æ—Ä–æ–¥—Å–∫–æ–π —Å—É–µ—Ç—ã.",
        link: "categtour.html"
    },
    "üö¢ –ú–æ—Ä—Å–∫–∏–µ –∫—Ä—É–∏–∑—ã": {
        images: [
            "https://avatars.mds.yandex.net/i?id=d35ed591b359f1acbec0c70d79288b8277e44708-10853576-images-thumbs&n=13",
            "https://avatars.mds.yandex.net/get-altay/13994056/2a000001948c64e0b00012d78a11f50a0f55/orig",
            "https://avatars.mds.yandex.net/i?id=1007f59c6078b982fba7586604df3f86_l-5256019-images-thumbs&n=13",
            "https://avatars.mds.yandex.net/i?id=f300db2d2bc7a88702ed3a630be92c9e_l-5192545-images-thumbs&n=13"
        ],
        description: "–ù–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è –ø–æ –º–æ—Ä—è–º –∏ –æ–∫–µ–∞–Ω–∞–º. –í—Å–µ –≤–∫–ª—é—á–µ–Ω–æ –Ω–∞ —Ä–æ—Å–∫–æ—à–Ω—ã—Ö –ª–∞–π–Ω–µ—Ä–∞—Ö.",
        link: "categtour.html"
    },
    "üß∏ –î–µ—Ç—Å–∫–∏–π –æ—Ç–¥—ã—Ö": {
        images: [
            "https://avatars.mds.yandex.net/i?id=aa21d24c206fd7a528bc1d29dbfe151d3ac1ea54-4988309-images-thumbs&n=13",
            "https://i.pinimg.com/736x/ad/c5/f0/adc5f0487a83caba793c1c4337fe924d.jpg",
            "https://avatars.mds.yandex.net/i?id=6904a996909afbcbf772aaf38a6e5d9b_l-5281839-images-thumbs&n=13",
            "https://avatars.mds.yandex.net/i?id=182069f19739d107692b0ddf990935d7_l-4876504-images-thumbs&n=13"
        ],
        description: "–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è –¥–µ—Ç–µ–π —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π, –∫–≤–µ—Å—Ç–∞–º–∏ –∏ —Ä–∞–∑–≤–∏–≤–∞—é—â–∏–º–∏ –∑–∞–Ω—è—Ç–∏—è–º–∏.",
        link: "categtour.html"
    },
    "üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –û—Ç–¥—ã—Ö —Å –¥–µ—Ç—å–º–∏": {
        images: [
            "https://avatars.mds.yandex.net/i?id=8f832256335b0ca5f25d72cb2cf6b955_l-5906237-images-thumbs&n=13",
            "https://avatars.mds.yandex.net/i?id=4d0098815114bc21650e6994b7aa7c7f_l-11846045-images-thumbs&n=13",
            "https://avatars.dzeninfra.ru/get-zen_doc/271828/pub_6683f56d768fc17b6577e62b_6683f71275153d43b30e82a5/scale_1200",
            "https://q-xx.bstatic.com/xdata/images/hotel/max1024x768/52202124.jpg?k=11178c91d5a6ea24f4894fa8427bb493f6baacaddbc40ecc9d2fbab8b48c067d&o=&s=800x"
        ],
        description: "–ö–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π —Å–µ–º–µ–π–Ω—ã–π –æ—Ç–¥—ã—Ö —Å –ø—Ä–æ–¥—É–º–∞–Ω–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è–º–∏ –¥–ª—è –≤—Å–µ—Ö –≤–æ–∑—Ä–∞—Å—Ç–æ–≤.",
        link: "categtour.html"
    },
    "üè¢ –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤—ã": {
        images: [
            "https://avatars.mds.yandex.net/i?id=0aa672c36f98897489ffda5da2d20f10_l-5232882-images-thumbs&n=13",
            "https://avatars.mds.yandex.net/i?id=71851defdff3300d2d12687608192d41_l-4080605-images-thumbs&n=13",
            "https://avatars.dzeninfra.ru/get-zen_doc/271828/pub_66cf80f9d97f5971251ad9bd_66cf84af594d2a0490095017/scale_1200",
            "https://avatars.mds.yandex.net/i?id=a8bad76136c949cd8c70a616e0b622ae_l-8242815-images-thumbs&n=13"
        ],
        description: "–¢–∏–º–±–∏–ª–¥–∏–Ω–≥–∏, –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–Ω–∏–Ω–≥–∏ –∏ –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–æ–µ–∑–¥–∫–∏ –¥–ª—è –≤–∞—à–µ–π –∫–æ–º–∞–Ω–¥—ã.",
        link: "categtour.html"
    },
    "üèõÔ∏è –≠–∫—Å–∫—É—Ä—Å–∏–∏": {
        images: [
            "https://avatars.mds.yandex.net/i?id=432836284196d58119d03e805bce0980_l-3006166-images-thumbs&n=13",
            "https://grand-auto.by/images/news/290/2049.jpg",
            "https://avatars.mds.yandex.net/i?id=f77a6a39520cf8187889f2a6eea55e69_l-4450014-images-thumbs&n=13",
            "https://kuku.travel/wp-content/uploads/2018/06/–¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π-–¥–≤—É—Ö—ç—Ç–∞–∂–Ω—ã-–∞–≤—Ç–æ–±—É—Å.jpg"
        ],
        description: "–ü–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ –∫—É–ª—å—Ç—É—Ä—É –∏ –∏—Å—Ç–æ—Ä–∏—é —Å–∞–º—ã—Ö fascinating –º–µ—Å—Ç –ø–ª–∞–Ω–µ—Ç—ã —Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –≥–∏–¥–∞–º–∏.",
        link: "categtour.html"
    },
    "üèñÔ∏è –ü–ª—è–∂–Ω—ã–π –æ—Ç–¥—ã—Ö": {
        images: [
            "https://avatars.mds.yandex.net/i?id=c16399a90aa9059b87314bde642601b0_l-4406391-images-thumbs&n=13",
            "https://i.pinimg.com/736x/46/62/e7/4662e725ae23b5045df3b1ee130e6e40.jpg",
            "https://thepointsguy.global.ssl.fastly.net/us/originals/2021/11/Chairs-on-the-beach-in-Cozumel-Mexico.jpg",
            "https://static.life.ru/posts/2019/11/1257229/596ffc090e36619951410ecbf9352949.jpg"
        ],
        description: "–ò–¥–µ–∞–ª—å–Ω—ã–µ –ø–ª—è–∂–∏, –ª–∞–∑—É—Ä–Ω–æ–µ –º–æ—Ä–µ –∏ —Ä–µ–ª–∞–∫—Å –ø–æ–¥ —à—É–º –ø—Ä–∏–±–æ—è. –í–∞—à perfect getaway.",
        link: "categtour.html"
    },
    "‚õ∞Ô∏è –ì–æ—Ä–Ω—ã–µ –ø–æ—Ö–æ–¥—ã": {
        images: [
            "https://avatars.mds.yandex.net/i?id=f5da8dff2a18c66dcd049bcea53298b2_l-5236662-images-thumbs&n=13",
            "https://sun9-79.userapi.com/impf/c831408/v831408748/1ce150/uZgzTnno8pA.jpg?size=807x538&quality=96&sign=eaf7e78ba506f5cc10cb63f52c1a4213&c_uniq_tag=zv9jdTi6WOO54S8hKHBrUmyrp5MoNQySa8rGe-U0MVI&type=album",
            "https://avatars.dzeninfra.ru/get-zen_doc/271828/pub_67164eb45c2f3c3980059a9f_6716666da3ca051fc1db890d/scale_1200",
            "https://avatars.mds.yandex.net/i?id=261d56f6efef714a0799891de1c4693f_l-9145122-images-thumbs&n=13"
        ],
        description: "–ü–æ–∫–æ—Ä—è–π—Ç–µ —Å–Ω–µ–∂–Ω—ã–µ —Å–∫–ª–æ–Ω—ã –ª—É—á—à–∏—Ö –∫—É—Ä–æ—Ä—Ç–æ–≤ –º–∏—Ä–∞. –Ø—Ä–∫–∏–µ —ç–º–æ—Ü–∏–∏ –∏ –∞–¥—Ä–µ–Ω–∞–ª–∏–Ω –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã!",
        link: "categtour.html"
    },

};

// –≠–ª–µ–º–µ–Ω—Ç—ã DOM
const modal = document.getElementById('tourModal');
const modalTitle = document.getElementById('modalTitle');
const modalDescription = document.getElementById('modalDescription');
const modalLink = document.getElementById('modalLink');
const movingStrip = document.getElementById('movingStrip');
const closeModalButton = document.querySelector('.modal-close');

// –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–≤–∏–∂—É—â–µ–π—Å—è –ª–µ–Ω—Ç—ã
function createMovingStrip(images) {
    // –û—á–∏—â–∞–µ–º –ª–µ–Ω—Ç—É
    movingStrip.innerHTML = '';
    movingStrip.classList.remove('animated', 'paused');
    
    // –°–æ–∑–¥–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞
    const duplicatedImages = [...images, ...images];
    
    duplicatedImages.forEach((imageSrc) => {
        const imgElement = document.createElement('img');
        imgElement.src = imageSrc;
        imgElement.alt = `–§–æ—Ç–æ –¥–ª—è ${modalTitle.textContent}`;
        imgElement.classList.add('moving-strip-image');
        movingStrip.appendChild(imgElement);
    });
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –ø–æ—Å–ª–µ –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏
    setTimeout(() => {
        movingStrip.classList.add('animated');
    }, 100);
}

// –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
function openModal(categoryName) {
    const data = tourData[categoryName];

    if (!data) {
        console.error('–î–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã:', categoryName);
        return;
    }

    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫, –æ–ø–∏—Å–∞–Ω–∏–µ –∏ —Å—Å—ã–ª–∫—É
    modalTitle.textContent = categoryName;
    modalDescription.textContent = data.description;
    modalLink.href = data.link;

    // –°–æ–∑–¥–∞–µ–º –¥–≤–∏–∂—É—â—É—é—Å—è –ª–µ–Ω—Ç—É —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
    createMovingStrip(data.images);

    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
    modal.classList.add('show');
    document.body.style.overflow = 'hidden';
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–£–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ"
modalLink.addEventListener('click', function(e) {
    // –ü–æ–ª—É—á–∞–µ–º –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    const currentCategory = modalTitle.textContent;
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
    localStorage.setItem('selectedTourCategory', currentCategory);
    
    console.log('–°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è:', currentCategory);
    
    // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏
    return true;
});


// –§—É–Ω–∫—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
function closeModal() {
    // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º
    movingStrip.classList.add('paused');
    
    setTimeout(() => {
        modal.classList.remove('show');
        document.body.style.overflow = '';
    }, 300);
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –ø–∞—É–∑—ã –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
movingStrip.addEventListener('mouseenter', () => {
    movingStrip.classList.add('paused');
});

movingStrip.addEventListener('mouseleave', () => {
    movingStrip.classList.remove('paused');
});

// –ù–∞–∑–Ω–∞—á–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
document.querySelectorAll('.category-item').forEach(item => {
    item.addEventListener('click', () => {
        openModal(item.textContent);
    });
});

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
closeModalButton.addEventListener('click', closeModal);
window.addEventListener('click', (event) => {
    if (event.target === modal) {
        closeModal();
    }
});

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ —Å–∫—Ä—ã—Ç–∏–∏ –≤–∫–ª–∞–¥–∫–∏
document.addEventListener('visibilitychange', () => {
    if (document.hidden) {
        movingStrip.classList.add('paused');
    } else {
        movingStrip.classList.remove('paused');
    }
});

